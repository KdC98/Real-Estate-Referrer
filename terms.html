<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="page_title">Conditions G√©n√©rales - Real Estate Referrer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/i18next@23.7.6/i18next.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/i18next-http-backend@2.4.2/i18nextHttpBackend.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/i18next-browser-languagedetector@7.2.0/i18nextBrowserLanguageDetector.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .prose h2 {
            color: #fbbf24;
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-size: 1.5rem;
            font-weight: 700;
        }
        .prose h3 {
            color: #f59e0b;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            font-size: 1.25rem;
            font-weight: 600;
        }
        .prose p, .prose li {
            color: #bfdbfe;
            line-height: 1.75;
        }
        .prose ul {
            list-style-type: disc;
            padding-left: 1.5rem;
            margin-top: 0.5rem;
            margin-bottom: 1rem;
        }
        .prose li {
            margin-bottom: 0.5rem;
        }
        .prose strong {
            color: #fbbf24;
        }
        .prose a {
            color: #fbbf24;
        }
        .prose a:hover {
            color: #fde68a;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 min-h-screen text-white">
    <!-- Header -->
    <nav class="bg-white/10 backdrop-blur-md border-b border-white/20 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <a href="/" class="text-white text-xl font-bold">Real Estate Referrer</a>
                </div>
                <div class="flex items-center space-x-4">
                    <!-- S√©lecteur de langue -->
                    <select id="languageSelector" class="bg-white/10 text-white px-3 py-2 rounded-lg border border-white/20 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="fr">üá´üá∑ Fran√ßais</option>
                        <option value="en">üá¨üáß English</option>
                        <option value="ar">üá¶üá™ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                        <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
                        <option value="hi">üáÆüá≥ ‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                        <option value="ur">üáµüá∞ ÿßÿ±ÿØŸà</option>
                        <option value="zh">üá®üá≥ ‰∏≠Êñá</option>
                        <option value="tl">üáµüá≠ Tagalog</option>
                    </select>
                    <a href="/" class="text-white/70 hover:text-white transition" data-i18n="nav.home">Accueil</a>
                    <a href="/how-it-works.html" class="text-white/70 hover:text-white transition" data-i18n="nav.how">Comment √ßa marche</a>
                    <a href="/privacy.html" class="text-white/70 hover:text-white transition" data-i18n="nav.privacy">Confidentialit√©</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="max-w-4xl mx-auto">
            <!-- Title -->
            <div class="text-center mb-12">
                <h1 class="text-4xl md:text-5xl font-bold mb-4">
                    <span class="text-yellow-400" data-i18n="title">Conditions G√©n√©rales d'Utilisation</span>
                </h1>
                <p class="text-blue-200" data-i18n="last_updated">Derni√®re mise √† jour : 25 novembre 2025</p>
            </div>

            <!-- Content -->
            <div class="bg-white/10 backdrop-blur-md rounded-2xl p-8 md:p-12 border border-white/20 prose max-w-none" id="terms-content">
                <!-- Le contenu sera charg√© dynamiquement par i18next -->
            </div>

            <!-- Back to Home -->
            <div class="text-center mt-8">
                <a href="/" class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold px-8 py-3 rounded-lg transition duration-300" data-i18n="back_home">
                    ‚Üê Retour √† l'accueil
                </a>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 border-t border-white/10 mt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="text-blue-200" data-i18n="footer.copyright">
                    ¬© 2025 Real Estate Referrer. Tous droits r√©serv√©s.
                </div>
                <div class="flex gap-6">
                    <a href="/terms.html" class="text-yellow-400 hover:text-yellow-300 transition" data-i18n="footer.terms">CGU</a>
                    <a href="/privacy.html" class="text-blue-200 hover:text-white transition" data-i18n="footer.privacy">Confidentialit√©</a>
                    <a href="/how-it-works.html" class="text-blue-200 hover:text-white transition" data-i18n="footer.how">Comment √ßa marche</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Configuration i18next
        (async () => {
            await i18next
                .use(i18nextHttpBackend)
                .use(i18nextBrowserLanguageDetector)
                .init({
                    fallbackLng: 'fr',
                    debug: false,
                    load: 'languageOnly',
                    ns: ['terms'],
                    defaultNS: 'terms',
                    backend: {
                        loadPath: '/locales/{{lng}}/{{ns}}.json'
                    },
                    detection: {
                        order: ['localStorage', 'navigator'],
                        caches: ['localStorage']
                    }
                });
            
            // Mettre √† jour le s√©lecteur avec la langue actuelle
            const currentLang = localStorage.getItem('i18nextLng') || i18next.language || 'fr';
            document.getElementById('languageSelector').value = currentLang.split('-')[0];
            
            updateContent();
            loadTermsContent();
        })();

        // Changement de langue
        document.getElementById('languageSelector').addEventListener('change', async function(e) {
            await i18next.changeLanguage(e.target.value);
            localStorage.setItem('i18nextLng', e.target.value);
            updateContent();
            loadTermsContent();
        });

        // Mise √† jour des √©l√©ments avec data-i18n
        function updateContent() {
            document.documentElement.lang = i18next.language;
            
            document.querySelectorAll('[data-i18n]').forEach(function(element) {
                const key = element.getAttribute('data-i18n');
                const translation = i18next.t(key);
                if (translation && translation !== key) {
                    element.textContent = translation;
                }
            });
        }

        // Helper function pour r√©cup√©rer les arrays de fa√ßon s√©curis√©e
        function getItems(key) {
            const items = i18next.t(key, { returnObjects: true });
            return Array.isArray(items) ? items : [];
        }

        // Helper function pour cr√©er des listes HTML
        function renderList(key) {
            return getItems(key).map(item => `<li>${item}</li>`).join('');
        }

        // Charger le contenu des CGU
        function loadTermsContent() {
            const t = (key) => i18next.t(key);
            
            document.getElementById('terms-content').innerHTML = `
                <!-- Section 1 -->
                <section>
                    <h2>${t('section1.title')}</h2>
                    <p>${t('section1.intro')}</p>
                    <p>${t('section1.agreement')}</p>
                </section>

                <!-- Section 2 -->
                <section>
                    <h2>${t('section2.title')}</h2>
                    <ul>
                        <li><strong>${t('section2.referrer.term')}</strong> ${t('section2.referrer.definition')}</li>
                        <li><strong>${t('section2.lead.term')}</strong> ${t('section2.lead.definition')}</li>
                        <li><strong>${t('section2.qualified_lead.term')}</strong> ${t('section2.qualified_lead.definition')}</li>
                        <li><strong>${t('section2.agent.term')}</strong> ${t('section2.agent.definition')}</li>
                        <li><strong>${t('section2.commission.term')}</strong> ${t('section2.commission.definition')}</li>
                        <li><strong>${t('section2.transaction.term')}</strong> ${t('section2.transaction.definition')}</li>
                    </ul>
                </section>

                <!-- Section 3 -->
                <section>
                    <h2>${t('section3.title')}</h2>
                    <h3>${t('section3.eligibility.title')}</h3>
                    <p>${t('section3.eligibility.intro')}</p>
                    <ul>${renderList('section3.eligibility.items')}</ul>
                    
                    <h3>${t('section3.security.title')}</h3>
                    <p>${t('section3.security.text')}</p>
                    
                    <h3>${t('section3.sms.title')}</h3>
                    <p>${t('section3.sms.text')}</p>
                </section>

                <!-- Section 4 -->
                <section>
                    <h2>${t('section4.title')}</h2>
                    <h3>${t('section4.rate.title')}</h3>
                    <p>${t('section4.rate.text')} <strong>${t('section4.rate.percentage')}</strong> ${t('section4.rate.text2')}</p>
                    <p><strong>${t('section4.rate.exampleTitle')}</strong></p>
                    <ul>${renderList('section4.rate.exampleItems')}</ul>
                    
                    <h3>${t('section4.payment.title')}</h3>
                    <p>${t('section4.payment.text')}</p>
                    
                    <h3>${t('section4.method.title')}</h3>
                    <p>${t('section4.method.text')}</p>
                    
                    <h3>${t('section4.nonPayment.title')}</h3>
                    <p>${t('section4.nonPayment.intro')}</p>
                    <ul>${renderList('section4.nonPayment.items')}</ul>
                </section>

                <!-- Section 5 -->
                <section>
                    <h2>${t('section5.title')}</h2>
                    <h3>${t('section5.requirements.title')}</h3>
                    <p>${t('section5.requirements.intro')}</p>
                    <ul>${renderList('section5.requirements.items')}</ul>
                    
                    <h3>${t('section5.consent.title')}</h3>
                    <p><strong>${t('section5.consent.important')}</strong> ${t('section5.consent.text')}</p>
                    <ul>${renderList('section5.consent.items')}</ul>
                    <p>${t('section5.consent.warning')}</p>
                    
                    <h3>${t('section5.protection.title')}</h3>
                    <ul>${renderList('section5.protection.items')}</ul>
                    
                    <h3>${t('section5.prohibited.title')}</h3>
                    <p>${t('section5.prohibited.intro')}</p>
                    <ul>${renderList('section5.prohibited.items')}</ul>
                </section>

                <!-- Section 6 -->
                <section>
                    <h2>${t('section6.title')}</h2>
                    <p>${t('section6.intro')}</p>
                    <ul>${renderList('section6.items')}</ul>
                </section>

                <!-- Section 7 -->
                <section>
                    <h2>${t('section7.title')}</h2>
                    <p>${t('section7.intro')}</p>
                    <ul>${renderList('section7.items')}</ul>
                </section>

                <!-- Section 8 -->
                <section>
                    <h2>${t('section8.title')}</h2>
                    <p>${t('section8.intro')}</p>
                    <ul>${renderList('section8.items')}</ul>
                </section>

                <!-- Section 9 -->
                <section>
                    <h2>${t('section9.title')}</h2>
                    <p>${t('section9.intro')} <a href="/privacy.html">${t('section9.link')}</a>.</p>
                    <ul>${renderList('section9.items')}</ul>
                </section>

                <!-- Section 10 -->
                <section>
                    <h2>${t('section10.title')}</h2>
                    <h3>${t('section10.byReferrer.title')}</h3>
                    <p>${t('section10.byReferrer.text')}</p>
                    
                    <h3>${t('section10.byUs.title')}</h3>
                    <p>${t('section10.byUs.intro')}</p>
                    <ul>${renderList('section10.byUs.items')}</ul>
                    
                    <h3>${t('section10.effect.title')}</h3>
                    <p>${t('section10.effect.intro')}</p>
                    <ul>${renderList('section10.effect.items')}</ul>
                </section>

                <!-- Section 11 -->
                <section>
                    <h2>${t('section11.title')}</h2>
                    <p>${t('section11.intro')}</p>
                    <ul>${renderList('section11.items')}</ul>
                </section>

                <!-- Section 12 -->
                <section>
                    <h2>${t('section12.title')}</h2>
                    <p>${t('section12.intro')}</p>
                    <ul>${renderList('section12.items')}</ul>
                </section>

                <!-- Section 13 -->
                <section>
                    <h2>${t('section13.title')}</h2>
                    <h3>${t('section13.informal.title')}</h3>
                    <p>${t('section13.informal.text')}</p>
                    
                    <h3>${t('section13.law.title')}</h3>
                    <p>${t('section13.law.text')}</p>
                    
                    <h3>${t('section13.jurisdiction.title')}</h3>
                    <p>${t('section13.jurisdiction.text')}</p>
                </section>

                <!-- Section 14 -->
                <section>
                    <h2>${t('section14.title')}</h2>
                    <p>${t('section14.intro')}</p>
                    <ul>${renderList('section14.items')}</ul>
                    <p>${t('section14.continued')}</p>
                </section>

                <!-- Section 15 -->
                <section>
                    <h2>${t('section15.title')}</h2>
                    <p>${t('section15.intro')}</p>
                    <ul>
                        <li><strong>${t('section15.email.label')}</strong> ${t('section15.email.value')}</li>
                        <li><strong>${t('section15.location.label')}</strong> ${t('section15.location.value')}</li>
                        <li><strong>${t('section15.agency.label')}</strong> ${t('section15.agency.value')}</li>
                    </ul>
                </section>

                <!-- Agreement Box -->
                <section class="mt-12 p-6 bg-yellow-900/30 border border-yellow-500/50 rounded-xl">
                    <h3 class="text-yellow-400 font-bold text-xl mb-4">üìù ${t('agreement.title')}</h3>
                    <p>${t('agreement.text')}</p>
                </section>
            `;
        }
    </script>
    <!-- Crisp Chat -->
    <script src="/js/crisp-chat.js"></script>
</body>
</html>
